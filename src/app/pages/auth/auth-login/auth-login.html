@let loginFormGroup = loginForm;

<app-auth-card [title]="'auth.login.title' | translate">
  <form ngProjectAs="[body]" class="auth-login" [formGroup]="loginFormGroup" (ngSubmit)="onSubmit()">
    <div class="auth-login__fields">
      <app-reusable-input
        formControlName="email"
        [label]="'auth.login.email' | translate"
        [placeholder]="''"
        [errorMessage]="[{
        message: 'auth.validation.required' | translate,
        isVisible:validateFormControl(loginFormGroup,'email','required')
       },
       {
        message: 'auth.validation.emailFormat' | translate,
        isVisible:validateFormControl(loginFormGroup,'email','email')
       }
       ]"
      />
      <app-reusable-input
        formControlName="password"
        [type]="'password'"
        [label]="'auth.login.password' | translate"
        [iconPosition]="'right'"
        [iconName]="'icon-show-password'"
        [placeholder]="''"
        [errorMessage]="[{
        message: 'auth.validation.required' | translate,
        isVisible:validateFormControl(loginFormGroup,'password','required')
       },
       {
        message: ('auth.validation.passwordMinLength' | translate:{length: loginFormGroup.get('password')?.errors?.['minlength']?.requiredLength}),
        isVisible:validateFormControl(loginFormGroup,'password','minlength')
       }
       ]"

      />
    </div>

    <app-reusable-button
      [text]="'auth.login.loginButton' | translate"
      [type]="'submit'"
      [variant]="'primary'"
      [fullWidth]="true"
      [loading]="isLoading()"
    />
  </form>
</app-auth-card>
