@let loginFormGroup = loginForm;

<app-auth-card [title]="'Login'">
  <form ngProjectAs="[body]" class="auth-login" [formGroup]="loginFormGroup" (ngSubmit)="onSubmit()">
    <div class="auth-login__fields">
      <app-reusable-input
        formControlName="email"
        [label]="'Email'"
        [placeholder]="''"
        [errorMessage]="[{
        message:'this field is required!',
        isVisible:validateFormControl(loginFormGroup,'email','required')
       },
       {
        message:'incorrect email format!',
        isVisible:validateFormControl(loginFormGroup,'email','email')
       }
       ]"
      />
      <app-reusable-input
        formControlName="password"
        [type]="'password'"
        [label]="'Password'"
        [iconPosition]="'right'"
        [iconName]="'icon-show-password'"
        [placeholder]="''"
        [errorMessage]="[{
        message:'this field is required!',
        isVisible:validateFormControl(loginFormGroup,'password','required')
       },
       {
        message:`password must be at least ${loginFormGroup.get('password')?.errors?.['minlength']?.requiredLength} characters`,
        isVisible:validateFormControl(loginFormGroup,'password','minlength')
       }
       ]"

      />
    </div>

    <app-reusable-button
      [text]="'Login'"
      [type]="'submit'"
      [variant]="'primary'"
      [fullWidth]="true"
      [loading]="isLoading()"
    />
  </form>
</app-auth-card>
